!function(n){"use strict";n.module("ngSails",["ng"])}(angular),function(n,t){"use strict";n.module("ngSails").provider("$sails",function(){var e=this,i=["get","post","put","delete"],o=["on","once"];this.url=void 0,this.interceptors=[],this.$get=["$q","$timeout",function(u,r){var c=t.connect(e.url),s=function(){var n=u.defer(),t=n.promise;return t.success=function(n){return t.then(n)},t.error=function(n){return t.then(null,n)},n},l=function(t,e){e&&n.isObject(e)&&e.status&&2!==Math.floor(e.status/100)?t.reject(e):t.resolve(e)},a=function(n,t){r(function(){n(t)})},f=function(t){c["legacy_"+t]=c[t],c[t]=function(e,i,o){var u=s();return void 0===o&&n.isFunction(i)&&(o=i,i=null),u.promise.then(o),c["legacy_"+t](e,i,function(n){l(u,n)}),u.promise}},g=function(t){c["legacy_"+t]=c[t],c[t]=function(e,i){null!=i&&n.isFunction(i)&&c["legacy_"+t](e,function(n){a(i,n)})}};return n.forEach(i,f),n.forEach(o,g),c}]})}(angular,io);