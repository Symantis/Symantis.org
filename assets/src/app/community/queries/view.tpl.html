<div class="medium-12 columns query-page">
	<div class="query-post">
		<section class="querie-header">
		    <div class="querie-header-title">
		        <h3>
		        	<a ui-sref="community.queries.view({id: query.id, title: query.clean() })">
		        		{{ query.title }}
		        	</a>
		        </h3>
		    </div>
		</section>
		<section class="query-content">
			<div class="query-content-main">
				<p class="query-content-p">{{ query.query }}<br /><a >Find it here. Link Example.</a></p>
				<div class="code-snippet">
					<code>Sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code </code>
		        </div>
		        <div class="image-thumbs" ng-show="query.imgs">
		        	<div class="thumbnail-container" ng-repeat="img in query.imgs">
		        		<a >
		                    <img ng-src="{{ img.src }}" />
		                </a>
		        	</div>
			    </div>
			</div>
		</section>
		<section class="query-footer">
			<div class="querie-tags">
	            <ul>
	                <li class="tag {{ tag.privillege }}-tag" ng-repeat="tag in query.tags">
	                    <a ui-sref="community.tags.view({ tag:tag.title })">
	                        <p>{{ tag.title }}</p>
	                    </a>
	                </li>
	            </ul>
			</div>
	        <div class="query-details">
	        	<div class="query-details-pic author-{{ query.author.status }} generate-image" signature="{{ query.author.signature }}"></div>
                <p class="query-details-by">
                    <a ui-sref="profile.view({ handle: query.author.handle })">
                        {{ query.author.firstName }} {{ query.author.lastName }}
                    </a>
                </p>
                <p class="query-details-on">
                    <span>
                        {{ query.date | date }}
                    </span>
                </p>
            </div>
		</section>
	</div>
	<div class="comments-head" ng-init="comments.selected = true">
		<h4 class="number-comments">
			<a 
				ng-class="{active: comments.selected}" 
				ng-click="comments.selected = true"
			>
				{{ query.responses.length }} Response<span ng-show="query.responses.length > 1">s</span>
			</a>
		</h4>
		<h4>
			<a 
				ng-show="currentUser"
				ng-click="comments.selected = false" 
				ng-class="{active: !comments.selected}"
			>
				New
			</a>
			<a 
				ng-show="!currentUser"
			>
				Sign up
			</a>
		</h4>
		<p>
			<a >Sort by <span class="icon-vote-down icon"></span></a>
		</p>
	</div>
	<div 
		class="comment" 
		ng-repeat="response in query.responses | orderBy : 'votes' : true "
		ng-class="{ solution: response.solution }"
	>
		<div class="comment-left">
			<div 
				class="comment-pic generate-image" 
				signature="{{ response.author.signature }}"
			>
			</div>
			<p class="response-voting">
				<a  
					class="vote-up" 
					ng-click="response.votes = response.votes + 1"
				>
					<span class="icon-vote-up"></span>
				</a>
				<span class="response-votes">
					{{ response.votes | number }}
				</span>
				<a 
					class="vote-down" 
					ng-click="response.votes = response.votes - 1"
				>
					<span class="icon-vote-down"></span>
				</a>
				<!-- placeholder icon -->
				<span class="icon-check response-favourite" ng-show="response.solution"></span>
			</p>
		</div>

		<div class="comment-content">
			<div class="comment-details">
	            <p>
	            	<a ui-sref="profile.view({ handle: response.author.handle })">
	            		{{ response.author.firstName }} {{ response.author.lastName }}
	            	</a>
	            	&middot;
	            	<span>{{ response.date | date }}</span>
	            </p>
	        </div>
			<p class="comment-text">
				{{ response.response }}
			</p>
			<div class="image-thumbs" ng-show="response.imgs">
	        	<div class="thumbnail-container" ng-repeat="img in response.imgs">
	        		<a >
	                    <img ng-src="{{ img.src }}" />
	                </a>
	        	</div>
		    </div>		
		</div>

		<div class="replies slideToggle" ng-init="replies.open = false" ng-show="replies.open">
			<div 
				class="reply" 
				ng-repeat="reply in response.replies"
			>
				<div class="reply-push">
					<div class="icon-indent icon">
					</div>
				</div>
				<div class="reply-left">
					<div 
						class="reply-pic generate-image" 
						signature="{{ reply.author.signature }}"
					>
					</div>
				</div>
				<div class="reply-content">
					<div class="reply-details">
			            <p>
			            	<a ui-sref="profile.view({handle: reply.author.handle})">
			            		{{reply.author.firstName}} {{reply.author.lastName}}
			            	</a>
			            	&middot;
			            	<span>{{ reply.date | date }}</span>
			            </p>
			        </div>
					<p class="reply-text">{{reply.reply}}</p>
			    </div>
			</div>
			<div class="new-comment" ng-show="currentUser">
				<!-- <div class="new-comment-left">
					<div 
						class="reply-pic generate-image" 
						signature="{{ currentUser.signature }}"
					>
					</div>
				</div> -->
				<form class="new-comment-form">
					<p>
			        	<a ui-sref="profile.view({handle: currentUser.handle})">
			        		{{ currentUser.firstName }} {{ currentUser.lastName }}
			        	</a>
			        </p>
					<textarea name="new-comment-input" placeholder="Add Reply.."></textarea>
					<a >
						<div class="new-comment-submit">
							<span class="icon-plus"></span>
						</div>
					</a>
				</form>
			</div>
			<h4 class="comment-noUser" ng-show="!currentUser">
				<a>Sign up</a> to comment
			</h4>
		</div>

		<a 
        	ng-click="replies.open = true" 
        	ng-show="!replies.open"
        >
        	<div class="reply-toggle">
				<p>
					<span ng-show="response.replies.length > 0">Add/View Replies ({{ response.replies.length }})</span>
					<span ng-show="response.replies.length < 1">Reply</span>
				</p>
			</div>
		</a>
		<a 
			ng-click="replies.open = false"
			ng-show="replies.open"
		>
			<div class="reply-toggle">
				<p>Hide</p>
			</div>
		</a>

	</div>

	<div class="view-more-comments" ng-show="query.response.length > 12">
		<a >
			<p>More Responses</p>
		</a>
	</div>

	<div class="new-response" ng-show="currentUser">
		<form class="new-response-form">
			<div 
				class="reply-pic generate-image" 
				signature="{{ currentUser.signature }}"
			>
			</div>
			<p class="new-response-title">
				Respond as 
	        	<a ui-sref="profile.view({handle: currentUser.handle})">
	        		{{ currentUser.firstName }} {{ currentUser.lastName }}
	        	</a>
	        </p>
	        <div class="new-response-inner">
	        	<div class="response-options">
			        <ul>
			        	<li class="response-options-edit">
			        		<a >
			        			<span class="icon-pencil"></span>
			        		</a>
			        	</li>
			        	<li class="response-options-link">
			        		<a >
			        			<span class="icon-link"></span>
			        		</a>
			        	</li>
			        	<li class="response-options-image">
			        		<a >
			        			<span class="icon-photo"></span>
			        		</a>
			        	</li>
			        	<li class="response-options-code">
			        		<a >
			        			<span class="icon-code-snippet"></span>
			        		</a>
			        	</li>
			        </ul>
			    </div>
				<textarea name="new-response-input" placeholder="Response.."></textarea>
			</div>
			<div class="new-response-post">
				<p><a class="sy-button">Post</a></p>
			</div>
			<div class="new-response-preview">
				<p><a class="sy-button">Preview</a></p>
			</div>
		</form>
	</div>

	<div class="response-noUser" ng-show="!currentUser">
		<h4><a >Sign up</a> to Respond</h4>
	</div>

</div>

