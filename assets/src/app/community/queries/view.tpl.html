<div class="medium-12 columns query-page">
	<div class="query-post">
		<section class="querie-header">
		    <div class="querie-header-title">
		        <h3>
		        	<a ui-sref="community.queries.view({id: query.id, title: query.clean() })">
		        		{{ query.title }}
		        	</a>
		        </h3>
		    </div>
		</section>
		<section class="query-content">
			<div class="query-content-main">
				<p class="query-content-p">{{ query.query }}<br /><a href="#">Find it here. Link Example.</a></p>
				<div class="code-snippet">
					<code>Sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code </code>
		        </div>
		        <div class="image-thumbs" ng-show="query.imgs">
		        	<div class="thumbnail-container" ng-repeat="img in query.imgs">
		        		<a ui-sref="">
		                    <img ng-src="{{ img.src }}" />
		                </a>
		        	</div>
			    </div>
			</div>
		</section>
		<section class="query-footer">
			<div class="querie-tags">
	            <ul>
	                <li class="tag {{ tag.privillege }}-tag" ng-repeat="tag in query.tags">
	                    <a ui-sref="community.tags.view({ tag:tag.title })">
	                        <p>{{ tag.title }}</p>
	                    </a>
	                </li>
	            </ul>
			</div>
	        <div class="query-details">
	        	<div class="query-details-pic author-{{ query.author.status }} generate-image" signature="{{ query.author.signature }}"></div>
                <p class="query-details-by">
                    <a ui-sref="profile.view({ handle: query.author.handle })">
                        {{ query.author.firstName }} {{ query.author.lastName }}
                    </a>
                </p>
                <p class="query-details-on">
                    <span>
                        {{ query.date | date }}
                    </span>
                </p>
            </div>
		</section>
	</div>
	<div class="comments-head" ng-init="comments.selected = true">
		<h4 class="number-comments">
			<a 
				ng-class="{active: comments.selected}" 
				ng-click="comments.selected = true"
			>
				{{ query.responses.length }} Response<span ng-show="query.responses.length > 1">s</span>
			</a>
		</h4>
		<h4>
			<a 
				ng-show="currentUser"
				ng-click="comments.selected = false" 
				ng-class="{active: !comments.selected}"
			>
				New
			</a>
			<a 
				ng-show="!currentUser"
			>
				Sign up
			</a>
		</h4>
		<p>
			<a ui-sref="">Sort by <span class="icon-vote-down icon"></span></a>
		</p>
	</div>
	<div 
		class="comment" 
		ng-repeat="response in query.responses"
	>
		<div class="comment-left">
			<div 
				class="comment-pic generate-image" 
				signature="{{ response.author.signature }}"
			>
			</div>
			<p class="response-voting">
				<a ui-sref="" class="vote-up">
					<span class="icon-vote-up"></span>
				</a>
				<span class="response-votes">
					{{ response.votes | number }}
				</span>
				<a ui-sref="" class="vote-down">
					<span class="icon-vote-down"></span>
				</a>
				<!-- placeholder icon -->
				<span class="icon-hide response-favourite" ng-show="response.favourite"></span>
			</p>
		</div>
		<div class="comment-content">
			<div class="comment-details">
	            <p>
	            	<a ui-sref="profile.view({ handle: response.author.handle })">
	            		{{ response.author.firstName }} {{ response.author.lastName }}
	            	</a>
	            	&middot;
	            	<span>{{ response.date | date }}</span>
	            </p>
	        </div>
			<p class="comment-text">
				{{ response.response }}
				<div class="code-snippet">
					<code>Sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code sample code </code>
		        </div>
			</p>
			<div class="image-thumbs" ng-show="response.imgs">
	        	<div class="thumbnail-container" ng-repeat="img in response.imgs">
	        		<a ui-sref="">
	                    <img ng-src="{{ img.src }}" />
	                </a>
	        	</div>
		    </div>
			<p class="comment-reply">
				<a class="reply-option" ui-sref="">Reply</a>
			</p>
		</div>
        
		<div class="replies" ng-init="replies.open = false">
			<div 
				class="reply" 
				ng-repeat="reply in response.replies"
				ng-show="replies.open"
			>
				<div class="reply-push">
					<div class="icon-indent icon">
					</div>
				</div>
				<div class="reply-left">
					<div 
						class="reply-pic generate-image" 
						signature="{{ reply.author.signature }}"
					>
					</div>
				</div>
				<div class="reply-content">
					<div class="reply-details">
			            <p>
			            	<a ui-sref="profile.view({handle: reply.author.handle})">
			            		{{reply.author.firstName}} {{reply.author.lastName}}
			            	</a>
			            	&middot;
			            	<span>{{ reply.date | date }}</span>
			            </p>
			        </div>
					<p class="reply-text">{{reply.reply}}</p>
			    </div>
			</div>
		</div>
		<a 
        	ng-click="replies.open = true" 
        	ng-show="response.replies.length > 0 && !replies.open"
        >
        	<div class="reply-toggle view-toggle">
				<p>View Replies ({{ response.replies.length }})</p>
			</div>
		</a>
		<a 
			ng-click="replies.open = false"
			ng-show="response.replies.length > 0 && replies.open"
		>
			<div class="reply-toggle">
				<p>Hide replies</p>
			</div>
		</a>
	</div>

	<div class="view-more-comments" ng-show="query.response.length > 12">
		<a ui-sref="">
			<p>More Responses</p>
		</a>
	</div>

	<div class="new-comment">
		<div class="new-comment-left">
			<div 
				class="reply-pic generate-image" 
				signature="{{ currentUser.signature }}"
			>
			</div>
		</div>
		<form class="new-comment-form">
			<p>
	        	<a ui-sref="profile.view({handle: currentUser.handle})">
	        		{{ currentUser.firstName }} {{ currentUser.lastName }}
	        	</a>
	        </p>
			<textarea name="new-comment-input" placeholder="Add Comment.."></textarea>
			<a ui-sref="">
				<div class="new-comment-submit">
					<span class="icon-plus"></span>
				</div>
			</a>
		</form>
	</div>

</div>

